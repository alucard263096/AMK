
                     AnyChat Platform Core SDK （V5.3）


    欢迎您选择佰锐科技的产品，我们将以“锐意创新 引领未来”的佰锐精神为您提供
优质的产品和服务。

一、SDK包概述

	AnyChat音视频互动开发平台（SDK）是一套跨平台的即时通讯解决方案，基于先进
的H.264视频编码标准、AAC音频编码标准与P2P技术，整合了佰锐科技在音视频编码、多媒
体通讯领域领先的开发技术和丰富的产品经验而设计的高质量、宽适应性、分布式、模块化
的网络音视频互动平台。

	AnyChat SDK分为客户端SDK和服务器SDK两大部分，其中客户端SDK用于实现语音、
视频的交互以及其它客户端相关的功能，而服务器SDK主要实现业务层逻辑控制，以及与
第三方平台的互联等。客户端SDK和服务器SDK均支持C++、C#、VB、Java以及Delphi等开发语言。

	AnyChat SDK可以作为即时通讯的音视频引擎，也可以作为视频会议、网络教育、
IM系统、网络视频聊天系统等互动平台的核心库，还可以应用于政府应急指挥平台、专家远程
协商平台等专用系统。AnyChat音视频互动开发平台目前已广泛应用于在线视频游戏、网站视频
聊天、企业视频会议、军队远程指挥、政府应急指挥平台等领域。

	更多介绍请访问“AnyChat官方网站”：http://www.anychat.cn/


二、使用说明

    1、AnyChat使用攻略之Windows平台视频会议：
	http://bbs.anychat.cn/forum.php?mod=viewthread&tid=6&extra=page%3D1

    2、AnyChat使用攻略之独立部署Windows视频服务器：
	http://bbs.anychat.cn/forum.php?mod=viewthread&tid=8&extra=page%3D1

    3、有关AnyChat平台用户身份验证与第三方平台集成的问题：
	http://bbs.anychat.cn/forum.php?mod=viewthread&tid=12&extra=page%3D1

    4、AnyChat功能特性：
	http://www.anychat.cn/features.html

    5、运行bin\demo\里面的示例程序，即可演示SDK的简单应用；

    6、src目录下为SDK示例源代码，包括客户端与服务器端示例程序的源代码；

    7、SDK目录下是SDK包所需要的头文件和库文件，包括客户端SDK和服务器端SDK。


    祝您使用愉快！开发过程中遇到疑问，可访问“AnyChat技术论坛”网站：
	http://bbs.anychat.cn/



三、目录清单

|----bin
|     |
|     |----client			客户端SDK动态库文件
|     |
|     |----server			服务器运行程序
|     |
|     |----serversdk		服务器SDK动态库文件（业务服务器示例程序）
|     |
|     |----demo				AnyChat SDK演示程序（可执行程序）
|
|----doc
|     |
|     |----client			客户端开发指南
|     |
|     |----server			服务器用户手册、开发指南
|
|----src
|     |
|     |----client			客户端SDK开发Demo程序源代码
|     |
|     |----server			服务器SDK开发Demo程序源代码
|
|----sdk
|     |
|     |----client			客户端SDK引用文件
|     |
|     |----server			服务器SDK引用文件


四、技术支持

                                http://bbs.anychat.cn
                                http://www.anychat.cn
                                TEL：+86-020-85276986 38103410
                                Email：service@bairuitech.com
                                广州佰锐网络科技有限公司
                        广州市天河区天河软件园建工路9号309、310室

                                       2015年07月

附：版本变更记录

2015-07-15	5.3
优化中心录像服务器，增强系统的稳定性，更详细的日志记录；
优化核心服务器，降低高负载时对系统资源的需求；
客户端合成录制以及合成流录制支持多路视频混合；
业务服务器集成智能排队接口，提供完整的业务排队解决方案；
增加中心服务器拍照功能；
支持动态调节视频参数，包括码率、视频质量、预设参数等；
支持Mic热拔插，修正热拔插Mic后音频偶尔失效的问题；
优化客户端本地录制，修正多次重复录制可能出现异常的问题；

2015-01-15	5.2
优化音视频内核，编解码效率更高；
开放视频编码（H.264）编解码数据输入、输出接口；
开放视频显示、录制过程中的裁剪模式控制接口；
开放网络连接检测周期、超时时间设置接口；
增加服务器合成录制、合成流录制功能；
音视频流支持服务器IP组播；
视频录制过程中支持动态改变视频分辩率；
优化网络抖动，减少网络连接断开，提高连接速度；
支持通过API接口开启AnyChat内核调试模式；
视频编解码支持Intel CPU硬件加速；

2014-09-01	5.1
优化并更新内核Codec库，整体性能有较大幅度提升
针对网络状况较差时网络连接的稳定性进行优化
AnyChat支持录像文件格式设置（MP4、WMV、FLV、MP3）
中心录像服务器返回录像文件路径可配置
中心服务器录像支持触发客户端回调事件
实现服务器集中收集客户端日志信息功能
开放Linux平台中心录像服务器
开放录像服务器SDK接口（AnyChat Record Server SDK）

2014-06-01	5.0
Windows平台支持新增屏幕共享（远程桌面）功能；
增加数据加密、解密API接口，可实现上层应用对语音、视频等数据的加解密；
Windows客户端支持合成录制音视频，合成方式支持并列方式、画中画方式；
AnyChat Server SDK支持64bit Java环境
增加视频方向手工修正API接口，包括本地视频采集方向和远程视频显示方向
修正文件传输时在某些网络环境下文件内容接收不完整的问题；
优化文件传输模块，提高文件传输效率，特别针对卫星网络环境下的文件传输进行参数调优；
修正传输大容量文件时内存占用过高的问题，新增文件传输的断点续传功能；
在Windows平台视频显示时，去掉视频旋转后产生的黑边，提高用户体验；

2014-01-01	4.9
优化服务器网络架构，支持高并发，并多次对服务器进行压力测试；
增加从客户端、服务器发送指令踢掉指定用户的接口
提供完整的视频呼叫解决方案；
提供完整的大厅好友解决方案；
Windows平台音频录制支持混和录制（音频混音、视频画面迭加）
支持分布式部署，核心服务器、业务服务器、录像服务器可分开部署；
增加参数配置，可以适应卫星通道高延迟网络环境；
业务服务器回调事件中增加客户端退出登录原因参数；
修改业务服务器应用程序消息回调接口，录像服务器连接时将会收到事件通知；

2013-07-28	4.8
支持中心服务器录像，音视频录像文件服务器集中保存；
支持瑞芯微（RockChip）全系列硬件编解码，实现高清视频通话；
优化P2P算法，提升复杂网络环境下音视频体验；
优化服务器对UDP数据包的处理效率，提高流媒体数据的吞吐量；
修正Logout之后，上层还会收到OnLinkClose异步事件的Bug；
增加AnyChat Server SDK for Java示例程序，可用Java开发业务服务器；
新增Android 4.2平台支持，并兼容更多Android设备；

2013-03-20 4.7
优化回声消除算法，极大提高音频通话体验；
增加查询用户终端类型接口：BRAC_USERSTATE_DEVICETYPE；
修正网络断开后在特殊条件下不会自动重连的Bug；
默认开启软件音量模式，调节音量时不影响系统音量；
修正部分显卡在DirectShow模式下视频显示花屏的Bug；
服务器多网卡支持，适应多线路网络机房的运行环境；
服务器优化内存管理机制，自动回收内存，占用内存更小；
支持iOS 6.x平台（兼容iPhone5、iPad）

2012-11-22 4.6
优化音视频播放模块，音视频同步更精准，缩短通讯延迟；
增强系统容错性，在网络较差的环境下用户体验有明显的改善；
流媒体传输针对3G网络进行优化，播放更平滑；
增加流媒体传输过程中丢包率统计功能并提供查询API接口；
Windows平台支持Java语言开发，并提供示例程序源代码；
新增Android 4.1平台支持，并兼容更多Android设备；
修正切换声卡，或是切换音频工作模式时可能导致访问异常的Bug；
优化服务器缓冲区管理机制，提高服务器流媒体数据传输效率；
修正部分网络环境下操作UPNP设备时程序长时间被阻塞的Bug；

2012-09-10 4.5
增加软件音量模式控制，控制音量时，不影响系统的音量；
增加平滑播放模式以及最大缓冲时间设置接口，增强系统对各种网络环境的适应性；
增加对1080P高清摄像头的支持。
优化服务器缓冲区管理模块的性能，降低高并发量下对CPU的占用；
修正某些情况下视频卡、顿的问题以及播放时可能音视频不同步的Bug；
修正部分独立声卡不能被识别的Bug；
修正android平台下不能传输中文文件名的Bug；
修正在部分android设备上长时间运行会导致程序崩溃的Bug；
修正iPhone下使用枚举设备接口内存泄露的Bug；
修正由于视频丢包导致解码器异常而临界区死锁的Bug；
修正通过URL地址连接服务器，解析失败后不会重试的Bug；
修正UDP P2P过程中，因网络原因导致单边中断之后音视频通讯不能恢复的Bug；
修正GetSDKOption接口获取部分参数失败的Bug。

2012-05-11	4.4
采用新的解决方案，windows平台不需要注册插件，方便部署；
修正本地录像时用户ID为-1时录像失败的Bug；
优化android 4.0内核显示核心；
修正iPhone内核获取本地IP地址失败，影响P2P通讯效率的Bug；
修正导致服务器日志中出现“Invalid UserId”的Bug；

2012-03-01	4.3
优化音视频网络传输参数，降低音视频通话时的延迟；
支持硬件加速（Android平台）；
支持集成第三方编码、解码器；
兼容Android 4.0内核；
服务器端增加“AllowGuestLogin”配置项，可禁止游客登录平台；
增加视频采集卡板载音频采集支持；
修正部分Win7平台摄像头初始化失败的Bug，兼容更多摄像头；
修正操作UPnP设备时可能导致程序异常的Bug；

2011-11-15	4.2
优化本地录像模块，降低录像对系统资源的占用；
优化视频反交织模块，用视频卡采集视频时图像抗锯齿；
增加外部原始音频、视频数据输入接口，可由上层应用采集数据传给内核进行处理；
增加缓冲区传输限速功能接口，满足一些特殊应用场合的需求，为其它程序预留带宽；
修正服务器断开网络超时客户端连接之后，客户端不能重连的Bug；
服务器支持UKey绑定授权方式；
优化回音消除算法，修正在部分操作系统上回音消除模块不能正常工作的Bug；
修正开启静音检测功能后，会导致视频不连贯的Bug；
加入CNG（comfort noise generation）的支持，对方静音时，本地播放舒适噪音；
服务器支持双机热备功能；

2011-08-07	4.1
优化对HDMI高清视频采集卡的支持；
增加Delphi示例代码（客户端）和C#示例代码（服务端）；
根据配置脚本可输出多种内核日志记录，便于上层应用调试；
优化服务器网络接口，提升数据转发效率；
优化IPCFilterPlus底层通信接口，提高数据传输效率；
优化UPnP接口，提升P2P穿透成功率；
增加客户端与服务器之间的文件传输接口，优化文件传输速度；
增加对WaveOut音频播放模式的支持，适合默认DSound模式与上层应用冲突时启用；
兼容iOS平台，可以实现PC与iPhone、iPad的音视频交互；

2011-05-16	4.0
增加选择音频播放设备接口；
增加动态设置视频采集分辩率接口，支持高清视频采集；
增加对Unicode（多国语言编码）的支持；
优化视频编码器，提升编码效率；
采用异步投递引擎，提高流媒体数据传输效率；
优化UPnP模块，提高P2P的成功率；
增加Speex语音编码，适合无线低带宽下使用；
支持IP组播技术，适合专网应用，大范围部署时，可降低对网络带宽的需求；
兼容Android平台，可以实现PC与Android手机、Android平板电脑的音视频交互；

2010-12-06	3.0
修正文件传输接口网络不稳定时错包的bug;
服务器支持UDP转发扩展缓冲区传输数据;
修正部分机器上输入法切换导致程序卡死的bug;
修正部分机器上win7下放音音量调节接口失效的bug;
增加内核信息输出到日志的功能，便于分析异常原因;
增强服务器程序容错特性;
优化UPNP释放的速度，当没有发现UPnP设备时，不需要进行UPNP的关闭操作;
修正与部分声卡的兼容性问题;
修正3G网络环境下偶尔看不到视频的bug;

2010-09-10	2.9
兼容更多USB摄像头、虚拟摄像头、PCI采集卡；
优化音频模块，支持多种音频工作模式，模式可动态切换；
实现不同音频模式的切换时，音频采集设备的智能选择；
优化网络模块，提高数据接收效率，并开放应用层P2P连接控制接口；
优化流媒体缓冲区管理模块，支持动态缓冲区，适应不同网络中的应用；
修正调用BRAC_Logout之后还会继续重连服务器的bug；
增加用户网络状态查询接口，可用于判断与其它用户之间的网络通道情况；
开放音频质量（编码码率）参数设置接口；
支持服务器端编程接口：“AnyChat Server SDK”；
更多开发语言的支持，包括：VC++、VB.Net、Delphi、C#等；

2010-06-07	2.8.5
增加立体声编码功能，适合于播放歌曲的应用;
优化音视频流缓冲区管理，降低网络抖动对语音质量的影响;
优化视频显示模块，播放更加平缓，避免了连续跳帧的现象;
优化音频播放模块，播放立体声音乐时更加流畅;
修正老版本服务器中，当某个用户退出，会影响其它用户接收视频的bug;

2010-05-15	2.8
兼容更多视频采集硬件（虚拟摄像头、视频采集卡、USB摄像头）；
新增本地视频编码质量动态调节接口（可控制帧率、码率、视频质量等参数）
新增流媒体数据代理功能，可实现特定场合下的特殊应用；
新增P2P连接模式控制接口，并向上层应用反馈连接状态；
服务器增加P2P路由模式（实验阶段），用于实现大规模即时通讯应用；
增加消息：WM_GV_P2PCONNECTSTATE、WM_GV_SDKWARNING
优化P2P连接算法，增强对UPNP协议的支持，提高P2P连接成功率；
优化Vista、Win7等操作系统下的回音消除功能，增强用户体验；
修正关闭视频后，切换摄像头会自动打开视频的bug；
修正对方退出私聊时，不会产生“WM_GV_PRIVATEEXIT”消息的bug；
加入本地及远程用户音频、视频码率统计，及查询接口；
支持多个同名硬件设备（摄像头、声卡）的处理，早期版本只能打开第一个设备；
修正视频回调不能指定其它视频格式的bug（V2.7版本只支持RGB24数据的回调）；

2009-12-28	2.7
新增设置服务器认证密码方法：BRAC_SetServerAuthPass
新增通过房间名进入房间方法：BRAC_EnterRoomEx
新增根据房间ID查询房间名方法：BRAC_GetRoomName
新增音、视频录像方法：BRAC_StreamRecordCtrl
新增对用户的视频进行抓拍方法：BRAC_SnapShot
新增用户状态信息查询方法：BRAC_QueryUserState
提升SDK语音质量，优化回音消除、噪音抑制、自动增益控制、静音检测等算法
支持UPNP网络协议，提高P2P打洞成功率
新增设置录像快照任务完成通知回调函数方法：BRAC_SetRecordSnapShotCallBack

2009-11-30	2.6
新增设置透明通道扩展传输回调方法：BRAC_SetTransBufferExCallBack
新增设置文件传输回调函数方法：BRAC_SetTransFileCallBack
新增设置SDK Filter通信数据回调函数方法：BRAC_SetSDKFilterDataCallBack
新增透明通道传送缓冲区扩展方法：BRAC_TransBufferEx
新增透明通道传送文件方法：BRAC_TransFile
新增查询缓冲区传输任务进度方法：BRAC_QueryTransTaskProgress
新增取消传输任务方法：BRAC_CancelTransTask
新增发送SDK Filter通信数据方法：BRAC_SendSDKFilterData
新增AnyChat内核参数设置方法：BRAC_SetSDKOption
新增AnyChat内核参数状态查询方法：BRAC_GetSDKOption

2009-08-12	2.5
新增查询用户昵称方法：BRAC_GetUserName；
新增激活（关闭）SDK调用日志方法：BRAC_ActiveCallLog；
优化P2P算法，提高NAT打洞成功率；
解决当系统缺少NullRender Filter组件（errorcode=10171）时，无法显示视频的Bug；
新增关键帧预处理技术，提高打开视频的速度；
修正其它用户初始视频状态不正确的Bug（需更新服务器程序）；
新增一个功能更完善的Demo应用程序源代码：BRAnyChatSDKDemo2；

2009-5-19	2.2
采用新的视频编码、解码内核，增强SDK的稳定性，提高运行效率
增加API函数：BRAC_GetUserLevel（查询用户级别）
增加SDK本地配置文件支持，自动记录前次打开的视频设备
服务器可以不依赖任何数据库，简化系统的安装、部署
修正停止服务器时，会出现响应超时的Bug，并增加服务器程序任务托盘图标
修正服务器自动产生的默认音频配置参数不正确的Bug
修正WM_GV_CAMERASTATE消息中CameraState状态不准确的Bug

2009-03-11	V2.1
修正与部分低端摄像头（输出MJPG格式）的兼容性问题
修正与部分虚拟摄像头的兼容性问题
扩展登录协议，支持超过30位的用户名与密码
修正SDK在某些环境下会异常的Bug，增强稳定性
修正进入房间之前调用BRAC_SelectVideoCapture会无效的bug
增加API函数：PrivateChatEchoEx
增加服务器端“InitDB”实用工具，可以自动初始化数据库环境


2008-12-10	V2.0
修正服务器在重连数据库时会释放SDK Filter的Bug
修正视频内核处理模块中一个变量未初始化，在某些时候会导致视频翻转现象的Bug
修正某些摄像头不支持一些分辨率时视频出现花屏的Bug
增强对某些特殊声卡的兼容性，系统能自动打开这些声卡的Mic端子
增加了一套使用AnyChat Core SDK开发的视频会议系统例程（附源代码）

2008-10-21	1.9
采用多线程与预处理技术，解决早期版本在打开摄像头会阻塞主线程的Bug
修正部分摄像头无法正常打开的Bug
修正logout后，sdk会自动再次登录系统的bug
修改DirectX Demo程序内存泄露的bug
修正部分型号声卡不能选中Mic，导致语音功能需要手工开启的Bug
修正不请求发言便不能打开本地视频的Bug
完善服务器程序加载SDK Filter失败时的提示信息
修正发送文字消息时，回调函数里面字符串没有正常结尾的bug
修正上层应用异常时，SDK无法正常退出的Bug


2008-09-10	1.8
采用AnyChat MediaPlus V4.8内核
增加对USB Microphone的支持，当有多路音频输入设备时，用户可以自由选择
在音视频处理内核组件中增加回调函数接口，应用层可以直接获取底层数据
优化服务器网络框架，采用基于LGPL协议的SPServer框架，性能更强
新增基于DirectX的Demo程序，适合于大型网络游戏程序开发者参考
修正可以向自己发送私聊请求的Bug
完善AnyChat服务器SDK Filter开发接口


2008-08-15	V1.5
参照AnyChat开发套件，新增私聊部分方法
新增透明通道回调函数接口
新增文字消息回调函数接口


2008-08-01	V1.0
初始版本，采用AnyChat MediaPlus V4.5内核
